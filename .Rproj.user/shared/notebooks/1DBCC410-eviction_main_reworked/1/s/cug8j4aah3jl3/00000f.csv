"0","# Calculate test set metrics by racial majority."
"0","test_metrics_by_race <- df_test_pred %>%"
"0","  filter(!is.na(racial_majority), racial_majority != """") %>%"
"0","  group_by(racial_majority) %>%"
"0","  summarize("
"0","    n = n(),"
"0","    mae = mean(abs_error, na.rm = TRUE),"
"0","    rmse = sqrt(mean(residual^2, na.rm = TRUE)),"
"0","    mean_observed = mean(filings_count, na.rm = TRUE),"
"0","    mean_predicted = mean(predicted, na.rm = TRUE),"
"0","    mean_error = mean(residual, na.rm = TRUE),"
"0","    .groups = ""drop"""
"0","  )"
"0",""
"0","test_metrics_by_race %>%"
"0","  kable(digits = 2, caption = ""Test Set Performance by Tract Racial Majority"") %>%"
"0","  kable_styling(bootstrap_options = c(""striped"", ""hover""))"
